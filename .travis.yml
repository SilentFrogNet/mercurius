branches:
  only:
  - master
  - devel

language: python
python:
  - "3.6"

# command to install
install:
  - pip install .
  - pip install pytest-cov codecov pylint

# command to run tests
# script:
#   - py.test --cov=mercurius --cov-report term mercurius/tests
#   # - pylint -f parseable --exit-zero mercurius/ --errors-only


# TODO: change above to
#Â command to run stages
jobs:
  include:
    - stage: "Tests"
      name: "Unit Tests"
      script: ./travis/unit-tests.sh
#     - script: ./travis/integration-tests.sh
#       name: "Integration Tests"
#     - stage: deploy
#       name: "Deploy"
#       script: ./travis/deploy.sh

# stages:
#   - compile
#   - test
#   - name: deploy
#     if: branch = master

after_success:
  - codecov